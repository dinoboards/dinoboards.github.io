---
layout: default
title: Stegosaur PPI & Full Size Matrix Keyboard
description: A full size keyboard kit for your RC2014 system, for use with 5 pin Cherry compatible switches.
product_url: https://shop.dinoboards.com.au/product/stegosaur-ppi-and-keyboard
---

<div style="display: flex; justify-content: space-between; gap: 20px;">
  <div style="flex: 0 0 100px;">
    <img src="{{ site.baseurl }}/assets/coming-soon.png" width="100px"/>
  </div>
  <div style="flex: 3;">
    <h1>PPI & Full Size Matrix Keyboard</h1>
    <p>PPI Code: DB308<br/>
    Keyboard: DB309</p>
  </div>
</div>


<div style="text-align: center;">
<a target="_newwindow" href="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/ppi-and-key-closeup.jpg"><img style="width:65%;" src="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/ppi-and-key-closeup.jpg" alt="Assembled Profiled" width="80%"/></a>
</div>

A full size keyboard kit for your RC2014/RCBus system giving your kit that perfect clicky keyboard.

# Key Features

* Power, caps-lock, and code indicator LEDs.
* Designed for cherry compatible 5 pin switches.
* PPI Module designed around the 82C55 chip, a modern CMOS version of the original Intel 8255 Programmable Peripheral Interface chip.
* Provides the MSX slot selector lines for the MSX ROM/RAM board.
* Optional MSX M1 Wait state generator.

# Images

<table>
  <tr>
    <td width="50%"><a target="_newwindow" href="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/ppi-pcb-front.jpg"><img src="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/ppi-pcb-front.jpg" width="90%"/><br/>PPI PCB Front</a></td>
    <td width="50%"><a target="_newwindow" href="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/ppi-pcb-back.jpg"><img src="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/ppi-pcb-back.jpg" width="90%"/><br/>PPI PCB Back</a></td>
  </tr>
  <tr>
    <td width="50%"><a target="_newwindow" href="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/key-pcb-front.jpg"><img src="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/key-pcb-front.jpg" width="90%"/><br/>Keyboard PCB Front</a></td>
    <td width="50%"><a target="_newwindow" href="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/key-pcb-back.jpg"><img src="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/key-pcb-back.jpg" width="90%"/><br/>Keyboard PCB Back</a></td>
  </tr>
  <tr>
    <td width="50%"><a target="_newwindow" href="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/ppi-assembled.jpg"><img src="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/ppi-assembled.jpg" width="90%"/><br/>PPI Fully Assembled</a></td>
    <td width="50%"><a target="_newwindow" href="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/key-assembled-caps.jpg"><img src="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/key-assembled-caps.jpg" width="90%"/><br/>Keyboard Assembled (with switches & key caps)</a></td>
  </tr>
  <tr>
    <td width="50%"><a target="_newwindow" href="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/ppi-and-key-closeup.jpg"><img src="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/ppi-and-key-closeup.jpg" width="90%"/><br/>Closeup of Keyboard and PPI connected</a></td>
    <td width="50%"><a target="_newwindow" href="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/ppi-key-base-kit.jpg"><img src="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/ppi-key-base-kit.jpg" width="90%"/><br/>Base Kit Parts</a></td>
  </tr>
  <tr>
    <td width="50%"><a target="_newwindow" href="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/m1-wait-parts.jpg"><img src="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/m1-wait-parts.jpg" width="90%"/><br/>Optional MSX Wait State Generator Parts</a></td>
    <td width="50%"><a target="_newwindow" href="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/msx-slot-parts.jpg"><img src="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/msx-slot-parts.jpg" width="90%"/><br/>Optional MSX Slot Selector Parts</a></td>
  </tr>
  <tr>
    <td width="50%"><a target="_newwindow" href="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/82c55-4-3.jpg"><img src="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/82c55-4-3.jpg" width="90%"/><br/>PPI 8255 PPI Chip</a></td>
  </tr>
</table>

# Bill of Materials

\* Self Source Reference are supplied as a guide only.  Please double check, in case of typo or errors in listing.

#### PPI & Keyboard Module

| Count | Name                      | Self Sourcing*                                            |
| :---: | ------------------------- | --------------------------------------------------------- |
|   5   | 0.1uF Ceramic Capacitor   |                                                           |
|   2   | IDC Connector (No Clamps) | DigiKey: 2057-BHR-16-HUA-ND                               |
|  81   | 1N4148                    |                                                           |
|   3   | 470 Ω                     |                                                           |
|   1   | 10k Ω Bussed (8)          | Mouser: 652-4609X-1LF-10K<br/>DigiKey: 4609X-101-103LF-ND |
|   3   | 74HC138                   |                                                           |
|   1   | 74HC00                    |                                                           |
|   3   | 3mm LEDS                  |                                                           |
|   2   | Right Angle 2x20 Header   | Mouser: 649-68020-140HLF<br/>DigiKey: 2057-PH2RA-40-UA-ND |
|   1   | 14 POS IC SOCKET          | Mouser: 571-1-2199298-3<br/>DigiKey: 2057-ICS-314-T-ND    |
|   3   | 16 POS IC SOCKET          | Mouser: 571-1-2199298-4<br/>DigiKey: 2057-ICS-316-T-ND    |
|   1   | 40 POS IC SOCKET          | Mouser: 571-1-2199299-5<br/>DigiKey: 2057-ICS-640-T-ND    |
|   1   | 16 Way IDC Cable          |                                                           |

#### Optional MSX Slot Selector Signals

* Required for MSX compatibility

| Count | Name                    | Self Sourcing*                                         |
| :---: | ----------------------- | ------------------------------------------------------ |
|   1   | 0.1uF Ceramic Capacitor |
|   1   | 74HC153                 |
|   1   | 16 POS IC SOCKET        | Mouser: 571-1-2199298-4<br/>DigiKey: 2057-ICS-316-T-ND |

#### Optional MSX M1 Wait State Generator

* Required if using RC2014 stock Z80 module. Not needed if using MSX Turbo CPU module.

| Count | Name                      | Self Sourcing*                                         |
| :---: | ------------------------- | ------------------------------------------------------ |
|   1   | 0.1uF   Ceramic Capacitor |                                                        |
|   1   | 1N4148                    |                                                        |
|   1   | 74HC74                    |                                                        |
|   1   | 1x2 HEADER                |                                                        |
|   1   | Shunt 1x2                 |                                                        |
|   1   | 14 POS IC SOCKET          | Mouser: 571-1-2199298-3<br/>DigiKey: 2057-ICS-314-T-ND |

#### 82C55 PPI Chip

* Required unless you have sourced your own chip.

| Count | Name  | Self Sourcing* |
| :---: | ----- | -------------- |
|   1   | 82C55 |                |

# What's included

This project includes both the keyboard kit and the PPI interface board kit.

* Keyboard PCB and components (passive components, IDC socket, and ICs)
* PPI PCB and components (passive components, IDC socket, and ICs with a tested 82C55 chip optionally included)

> Please note, this kit does not include switches and keycaps.  You can choose to source these yourself, or purchase the [Keyboard caps here](https://shop.dinoboards.com.au/product/keycap-set-for-msx-rc2014-keyboard) and [compatible switches here](https://shop.dinoboards.com.au/product/switches-and-stabilizers-for-msx-rc2014-keyboard)

# What else do I need?

This module can work in a standard RC2014/RCBus RomWBW bootable system.

It is required for a full MSX configured system.


# Operation

### Jumpers

#### J2 - M 1 WAIT STATE GENERATOR

When shorted, a WAIT signal for 1 clock cycle is generated when the Z80 fetches a instruction.  This is only required for MSX software compatibility. Short for MSX compatibility, leave unconnected otherwise.

When in MSX configuration or paired with the Turbo CPU, this jumper should not be shorted.

> The MSX Turbo CPU modules also include a M1 Wait State Generator. Having the wait state generator of the PPI active, will cause the Turbo CPU to have additional unnecessary wait states.

### Using the keyboard on RomWBW

Although this kit is designed to work under MSX's software, it can be used in a stock RC2014 system with a correctly configured RomWBW ROM image.

See RomWBW for details on configuring and building a version of RomWBW for keyboard function.


### Rainbow Cable types

Its important that the correct rainbow 16 IDC cable is used.  It needs to be a 'straight thru' type - as per image below.

<div style="text-align: center;">
  <a href="{{ site.baseurl }}/assets/ppi-and-keyboard/rainbow-cable.jpg" target="_newwindow">
    <img src="{{ site.baseurl }}/assets/ppi-and-keyboard/rainbow-cable.jpg" alt="Closeup of rainbow 16pin IDC cable" width="40%"/>
  </a>
</div>

<br/>

# Schematics

* <a target="_newwindow" href="./ppi-schematic.pdf">PPI Schematic</a>
* <a target="_newwindow" href="./keyboard-schematic.pdf">Keyboard Schematic</a>

# Key difference with Yellow PPI/Keyboard

| Description           | Yellow MSX Version                          | Green Stegosaur Version                                       |
| --------------------- | ------------------------------------------- | ------------------------------------------------------------- |
| PPI PCB Height        | 8.0 cm                                      | 5.5 cm                                                        |
| IDC Connector         | with locking clamps                         | without locking clamps                                        |
| Slot Selector         | Included                                    | Sold separately                                               |
| M1 Wait Generator     | Included                                    | Sold separately                                               |
| 82C55 PPI Chiip       | Included                                    | Sold separately                                               |
| Backplane Requirement | 80 Way RCBus or RC2014 via external Jumpers | Wired permanently to 80 Way RCBus 'User' lanes (37-40, 77-80) |
| Colour                | Yellow                                      | Green                                                         |


# Assembly Guide

{% include soldering-order.md %}

#### NOTE 1
> You will certainly want to solder the diodes on the keyboard before doing the switches.

#### NOTE 2
> Mount the switches last -- you should get a satisfying click as you push the switch into the board - but be careful that both pins have come thru cleanly.  The pins are fairly thin and easy for them not to align and to be bent.

Start with just one or two switches first -- push in, then check pins, then solder.  Move onto a next set of switches.  Once you are more comfortable, go for bigger batches - just keep an eye on the pins.

<table>
  <tr>
    <td width="50%"><a target="_newwindow" href="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/key-assembled-passives.jpg"><img src="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/key-assembled-passives.jpg" width="90%"/></a></td>
    <td width="50%"><a target="_newwindow" href="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/key-assembled-switches.jpg"><img src="{{ site.baseurl }}/stegosaur/ppi-and-keyboard/images/key-assembled-switches.jpg" width="90%"/></a></td>
  </tr>
</table>

Once all the soldering is done, you can move onto mounting the stabilizers.

## Stabilizers

To assemble the stabilizers, you can use the following images to get an idea of how they go together.

#### Line up the housing and insert as shown.  Note the orientation of the items.

<div style="text-align: center;">
  <img src="{{ site.baseurl }}/assets/ppi-and-keyboard/PXL_20210520_072202703.jpg" alt="Stabilizer housing and insert" width="70%"/>
</div>

<div style="text-align: center;">
  <img src="{{ site.baseurl }}/assets/ppi-and-keyboard/PXL_20210520_072220367.jpg" alt="Stabilizer housing and insert" width="70%"/>
</div>

<div style="text-align: center;">
  <img src="{{ site.baseurl }}/assets/ppi-and-keyboard/PXL_20210520_072303033.jpg" alt="Stabilizer housing and insert" width="70%"/>
</div>

<br/>
#### Next, insert the bar as shown:

<div style="text-align: center;">
<img src="{{ site.baseurl }}/assets/ppi-and-keyboard/PXL_20210520_072433066.jpg" alt="Stabilizer housing and insert fully assembled" width="70%" />

<img src="{{ site.baseurl }}/assets/ppi-and-keyboard/PXL_20210520_072535751.jpg" alt="Stabilizer housing and insert fully assembled" width="70%" />
</div>

<br/>
#### And finally, carefully clip the bar into the mounting as shown:

<div style="text-align: center;">
<img src="{{ site.baseurl }}/assets/ppi-and-keyboard/PXL_20210520_072022234.jpg" alt="Stabilizer with bar inserted" width="70%" />
</div>

<br/>

The insert should be able to move up and down as the bar is rotated.

Repeat for the other side of the bar and for the rest of the stabilizers.

Once the stabilizers are assembled, you can now mount them on the PCB as shown below.  The insert should be able to be moved up and down freely.

<div style="text-align: center;">
<img src="{{ site.baseurl }}/assets/ppi-and-keyboard/PXL_20210520_072950829.jpg" alt="Assembled" width="70%" />
<img src="{{ site.baseurl }}/assets/ppi-and-keyboard/PXL_20210520_073002973.jpg" alt="Assembled" width="70%" />
</div>

<br/>
#### The following images show the space bar and other stabilizers mounted onto the PCB

<div style="text-align: center;">
<img src="{{ site.baseurl }}/assets/ppi-and-keyboard/PXL_20210520_073101732.jpg" alt="Assembled" width="70%"/>
<img src="{{ site.baseurl }}/assets/ppi-and-keyboard/PXL_20210520_073036508.jpg" alt="Assembled" width="70%"/>
</div>
<br/>

<br/>


{% include disclaimer.md %}
